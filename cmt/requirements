package pointlike

version v5r4p7

# $Header: /nfs/slac/g/glast/ground/cvs/pointlike/cmt/requirements,v 1.64 2008/04/03 09:14:29 burnett Exp $

use astro *
use healpix *
use skymaps *
use embed_python *

use python * IExternal

apply_pattern shared_library

# this should cause the IExternal/python setup to avoid modifying PYTHONPATH or PATH
apply_tag have_python

# make python modules accessible
path_remove  PYTHONPATH "$(POINTLIKEROOT)" 
path_prepend PYTHONPATH "$(POINTLIKEROOT)/python" 

# undo and redo these to make sure pointlike is first in path
path_remove  LD_LIBRARY_PATH  "pointlike" WIN32 ""
path_prepend LD_LIBRARY_PATH  ${pointlike_cmtpath}/lib/ WIN32  ""
path_remove  PATH  ""  WIN32 \pointlike\ 
path_prepend PATH  ""  WIN32 ${POINTLIKEROOT}\${BINDIR}

private

macro source "*.cxx" WIN32 "*.cxx *.h *.py"

library pointlike \
 -s=../pointlike $(source) \
 -s=../src $(source) \
 -s=../python $(source)

# fitting application, 
application pointfit -s=pointfit $(source) -s=../python pointfit_setup.py

#souce-finding application
application pointfind -s=pointfind $(source) -s=../python pointfind_setup.py

application alignment -s=alignment $(source) -s=../python alignment_setup.py

application test_pointlike -s=test $(source)

# convenient setup alias using DOSKEY for Windows version
setup_script alias

